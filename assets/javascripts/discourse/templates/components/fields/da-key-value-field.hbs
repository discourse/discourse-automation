<section class="field key-value-field">
  <div class="control-group">
    {{fields/da-field-label label=label field=field}}

    <div class="controls">
      <DButton
        @label="discourse_automation.fields.key_value.label"
        @action={{fn (mut this.showJsonEditorModal) true}}
      />

      {{#if this.showJsonEditorModal}}
        <Modal::JsonSchemaEditor
          @updateValue={{this.handleValueChange}}
          @value={{this.value}}
          @settingName={{this.label}}
          @jsonSchema={{this.jsonSchema}}
          @closeModal={{fn (mut this.showJsonEditorModal) false}}
        />
      {{/if}}

      {{fields/da-field-description description=description}}
    </div>
  </div>
</section>